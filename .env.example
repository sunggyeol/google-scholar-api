# Google Scholar API Configuration
# Copy this file to .env and update with your values

# ==================== API Settings ====================
API_TITLE=Google Scholar API
API_VERSION=1.0.0
API_DESCRIPTION=REST API for Google Scholar searches with Redis caching
DEBUG=false
HOST=0.0.0.0
PORT=8000

# ==================== Redis Settings ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_ENABLED=true

# Cache TTL Settings (in seconds)
CACHE_TTL_SCHOLAR=86400      # 24 hours
CACHE_TTL_AUTHOR=604800      # 7 days
CACHE_TTL_PROFILES=43200     # 12 hours
CACHE_TTL_CITE=2592000       # 30 days

# ==================== CORS Settings ====================
CORS_ORIGINS=["*"]

# ==================== Rate Limiting ====================
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# ==================== Google Sheets Logging ====================
# Enable this to log all API requests/responses to Google Sheets
# See GOOGLE_SHEETS_SETUP.md for detailed setup instructions

SHEETS_LOGGING_ENABLED=false
SHEETS_SPREADSHEET_ID=your_spreadsheet_id_here
SHEETS_CREDENTIALS_PATH=credentials/google-sheets-credentials.json
SHEETS_SHEET_NAME=API Logs

# ==================== Selenium Pool Settings ====================
# Connection pool for Selenium WebDriver instances
# Optimized for 1GB RAM (e2-micro) - adjust for larger instances

SELENIUM_POOL_SIZE=1                      # Initial number of drivers (1 for 1GB RAM)
SELENIUM_MAX_POOL_SIZE=2                  # Maximum drivers during load spikes (2 for 1GB RAM)
SELENIUM_MAX_REQUESTS_PER_DRIVER=50       # Recycle driver after N requests (memory optimization)
SELENIUM_DRIVER_STARTUP_TIMEOUT=10        # Driver initialization timeout (seconds)
SELENIUM_ACQUIRE_TIMEOUT=10               # Max wait for driver acquisition (seconds) - triggers 503 if exceeded

# For 2GB RAM instances, consider:
# SELENIUM_POOL_SIZE=2
# SELENIUM_MAX_POOL_SIZE=3
# SELENIUM_MAX_REQUESTS_PER_DRIVER=100

# For 4GB+ RAM instances, consider:
# SELENIUM_POOL_SIZE=3
# SELENIUM_MAX_POOL_SIZE=5
# SELENIUM_MAX_REQUESTS_PER_DRIVER=100

